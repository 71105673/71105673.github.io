---
title: "RV32I-APB Day-2"
date: "2025-08-28"
thumbnail: "../../../assets/img/CPU/APB/image.png"
---

# RAM_SLAVE

## RAM.sv
```verilog
`timescale 1ns / 1ps

module RAM (
    //Global Signals
    input  logic        PCLK,
    input  logic        PRESET,
    // APB Interface Signals
    input  logic [ 5:0] PADDR,
    input  logic        PWRITE,
    input  logic        PENABLE,
    input  logic [31:0] PWDATA,
    input  logic        PSEL,
    output logic [31:0] PRDATA,
    output logic        PREADY
);
    logic [31:0] mem[0:2**4-1];  // 0x00 ~ 0x0f => 0x10 * 4 => 0x40

    always_ff @(posedge PCLK) begin
        PREADY <= 1'b0;
        if (PSEL && PENABLE) begin
            PREADY <= 1'b1;
            if (PWRITE) begin
                mem[PADDR[3:2]] <= PWDATA;
            end else begin
                PRDATA <= mem[PADDR[3:2]];
            end
        end
    end
endmodule
```
## Simulation
다음과 같이 Task를 활용한다.
![alt text](<../../../assets/img/CPU/APB2/스크린샷 2025-08-28 101656.png>)

READ Write 동작을 확인 가능 
![alt text](<../../../assets/img/CPU/APB2/스크린샷 2025-08-28 101608.png>)